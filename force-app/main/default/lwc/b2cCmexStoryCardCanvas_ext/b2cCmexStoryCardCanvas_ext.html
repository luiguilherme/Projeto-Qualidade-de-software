<template>
    <div class="via-slds b2cCmex-card-container-box">
        <div class="slds-card">
            <div class="slds-is-relative">
                <vlocity_cmt-spinner if:false={isLoaded} variant="brand" size="medium"
                    alternative-text="loading"
                ></vlocity_cmt-spinner>
            </div>
              <div if:true={isLoaded}>
                <div class="slds-grid slds-wrap slds-p-horizontal_medium slds-p-top_medium">
                    <div class="slds-col slds-size_10-of-12">
                        <div class="slds-text-heading_small slds-p-top_x-small" if:true={storyTitle}>
                            <strong>{storyTitle}</strong>
                        </div>
                    </div>
                    <div class="slds-col slds-size_2-of-12" if:true={menuNewBtn}>
                        <a>
                            <vlocity_cmt-menu class="slds-float_right" icon-position="right"
                                variant="neutral" theme="slds" label="Novo" position="right"
                                icon-name="utility:down">
                                
                                <template for:each={menu} for:item="menuItem">
                                    <vlocity_cmt-menu-item
                                    key={menuItem.id}
                                    theme="slds"
                                    name={menuItem.label}
                                    record={menuItem}
                                    type="action"
                                    action-url={menuItem.url}>
                                    </vlocity_cmt-menu-item>
                                </template>
                            </vlocity_cmt-menu>
                        </a>
                    </div>
                    <div class = "slds-col slds-size_10-of-12 slds-m-top_medium">
                        
                    </div>
                    <div class = "slds-col slds-size_2-of-12 slds-m-top_medium">
                        <a>
                            <vlocity_cmt-menu class="slds-float_right" icon-position="right"
                                variant="neutral" theme="slds" label="Filtro" position="right"
                                icon-name="utility:down">
                                
                                <template for:each={filtersMenu} for:item="filterMenuItem">
                                    <vlocity_cmt-menu-item
                                    key={filterMenuItem.id}
                                    theme="slds"
                                    name={filterMenuItem.label}
                                    record={filterMenuItem}
                                    data-filter={filterMenuItem.value}
                                    icon-name={filterMenuItem.selectedIcon}
                                    icon-position="right"
                                    onclick={filterData}>
                                    </vlocity_cmt-menu-item>
                                </template>
                            </vlocity_cmt-menu>
                        </a>
                    </div>
                </div>
              </div>
              <div class="slds-p-bottom_small">
                <div class="slds-p-vertical_medium slds-text-align_center" if:true={noRecords}>
                      {session.noStoryText}
                </div>
            </div>
            <div>
                <slot></slot>
            </div>
        </div>
    </div>
</template>